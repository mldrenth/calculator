<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>Calculator
        <div id= "wrapper">
        <div id="calculator-div"> Calc
            <div id = "display-div"><p id = "display-p"></p></div>
            <div id = "buttons-div">
                <button id ="button-clear" class = "clear" value = "clear">Clear</button>
                <button id ="button-divide" class = "operator" value = "divide">/</button>
                <button id ="button-multiply" class = "operator" value = "multiply">*</button>
                <button id ="button-subtract" class = "operator" value = "subtract">-</button>
                <button id ="button-add" class = "operator" value = "add">+</button>
                <button id ="button-operator" value = "operate">=</button>
                <button id="button-nine" class = "digit" value = "9">9</button>
                <button id ="button-eight" class = "digit" value = "8">8</button>
                <button id ="button-seven" class = "digit" value = "7">7</button>
                <button id ="button-six" class = "digit" value = "6">6</button>
                <button id ="button-five" class = "digit" value = "5">5</button>
                <button id ="button-four" class = "digit" value = "4">4</button>
                <button id ="button-three" class = "digit" value = "3">3</button>
                <button id ="button-two" class = "digit" value = "2">2</button>
                <button id ="button-one" class = "digit" value = "1">1</button>
                <button id ="button-zero" class = "digit" value = "0">0</button>
            </div>

        </div></div>
<style>
    #display-div {
        background-color: cornsilk;
        width: 370px;
        height: 100px;
        border-radius: 20px;
        margin: auto;
        text-align: right;
    }
    
    #wrapper {
        width: 400px;
        margin: auto;
        margin-top: 20px;
    }
    #buttons-div {
        margin-top: 20px;
    }
    #calculator-div {
        text-align: center;
        background-color: gray;
        width: 400px;
        height: 600px;
        border-radius: 20px;
    }
    button {
        background-color: blue;
        width: 80px;
        height: 80px;
        border-radius: 10px;
    }
</style>
<script>
let display = 0;
let a = 0;
let b = 0;
let operator = "";
let isPushed = 0;
let blocked = true;
let needsClear = false;
function add(a,b) {
    return displayOutput.textContent = a + b;
}

function subtract(a,b) {
    return displayOutput.textContent = a - b;
}

function multiply(a,b) {
    return displayOutput.textContent = a * b;
}

function divide(a,b) {
    return displayOutput.textContent = a / b;
}

function operate(operator,a,b) {
    if (operator === "add") {
        return add(a,b);
    }
    else if (operator === "subtract") {
        return subtract(a,b);
    }
    else if (operator === "multiply") {
        return multiply(a,b);
    }
    else if (operator === "divide") {
        return divide(a,b);
    }
}
const operateButton = document.querySelector("#button-operator");
let displayOutput = document.getElementById("display-p");
const digitButtons = document.querySelectorAll(".digit");
const operatorButtons = document.querySelectorAll(".operator");
function updateDisplay(n) {
    if (needsClear == true) {
    clearDisplay();
    }
    displayOutput.textContent += n;
    blocked = false;
    
}
function clearDisplay(){
    displayOutput.textContent = "";
    needsClear = false;
}

digitButtons.forEach((button) =>
 button.addEventListener("click", () => updateDisplay(button.textContent))
)
operatorButtons.forEach((button) =>
 button.addEventListener("click", () => isChecked(isPushed))
 )
 operatorButtons.forEach((button) =>
 button.addEventListener("click", () => assignOperator(button.textContent))
 )
 

operateButton.addEventListener("click", function() {
    evaluate(operator,a)
});
function isChecked(isPushed) {
    if (blocked == false) {
    if (isPushed >= 1) {
        evaluate(operator,a);
        isPushed = 0;
        blocked = true;
    }}
}

function assignOperator(input) {
    isPushed += 1
    needsClear = true;
    if (input == "+") {
        operator = "add";
        a = parseInt(displayOutput.textContent);
    }
    else if (input == "-") {
        operator = "subtract";
        a = parseInt(displayOutput.textContent);
    }
    else if (input == "*") {
        operator = "multiply"; 
        a = parseInt(displayOutput.textContent);
    }
    else if (input == "/") {
        operator = "divide";
        a = parseInt(displayOutput.textContent);
    }
    return operator;
}
function evaluate(operator,a) {
    if (blocked == false) {
    b = parseInt(displayOutput.textContent);
    operate(operator,a,b);
    blocked = true;}
    return parseInt(displayOutput.textContent);
}
</script>
    </body>
</html>